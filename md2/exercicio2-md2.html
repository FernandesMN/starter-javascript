<!DOCTYPE html>

<html lang="pt-br">
    <head>
        <title>Exercício 02</title>
        <meta charset="utf-8">

        <style type="text/css">
            .btn {
                width: 100px;
                height: 100px;
                border-radius: 10%;
                position: absolute;
            }
        </style>
    </head>

    <body id="body-box">
        <button class="btn">Adicionar Caixa</button>

        <script>
            //referenciando o botão
            btnElement = document.querySelector('button.btn');
            //criando o evento para o click
            btnElement.onclick =  function() {
                //buscar elemento pai
                var containerElement = document.querySelector('#body-box');
                //criar elemento filho(caixa vermelha)
                var divElement = document.createElement('div');
                //anexar o elemento filho ao seu pai
                containerElement.appendChild(divElement);

                //estilização da caixa
                divElement.style.width = '100px';
                divElement.style.height = '100px';
                divElement.style.backgroundColor = 'red';
                divElement.style.marginLeft = '110px';
                divElement.style.position = 'relative';
                divElement.style.display = 'inline-block';
                divElement.style.borderRadius = '5%';
            
                //função para gerar uma cor pseudo-aleatória
                function getRandomColor() {
                    var letters = "0123456789ABCDEF";
                    var color = "#";

                    for(var i = 0; i < 6; i++) {
                        color += letters[Math.floor(Math.random() * 16)];
                    }

                    return color;
                };
                //atribuindo cor a uma variável
                var newColor = getRandomColor();

                //criando evento para mudar a cor da caixa
                divElement.addEventListener("mouseover", function(event) {
                    event.target.style.backgroundColor = newColor;

                    setTimeout(function() {
                        event.target.style.backgroundColor = "red";
                    }, 500)
                }, false);
            };
        </script>
    </body>
</html>